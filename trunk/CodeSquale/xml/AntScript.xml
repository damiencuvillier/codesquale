<!-- Parsing tasks -->

<!--
	Ressources : 
		http://ant.apache.org/manual/CoreTasks/style.html
-->
<project name="CodeSqualeXSLT" default="parseOneFile" basedir="..">
	<property name="src" location="src"/>
	<property name="build" location="build"/>
	<property name="dist"  location="dist"/>
	
	<target name="init">
		<!-- Environment initialization -->
		<mkdir dir="results" 
				description="Create directory which's going to contain xml files result"/>
	</target>
					
	
	<target name="parseOneFile" depends="init" 
		description="Parsing test">
		<delete file="results/REResults.xml" />
		<xslt basedir="xml" 
			in="in/output/gnu.regexp.RE.xml"
			out="results/REResults.xml"
			extension="xml" 
			description="Parse un fichier"
			style="XSLT StyleSheets/Java/file.xslt"
			/>
	</target>
	
	
	<!-- target name="parseProjectFile" depends="init" 
			description="Parsing Project File">
			<taskdef name="saxon-xslt" 
					         classname="net.sf.saxon.ant.AntTransform" />

			<saxon-xslt in="in/output.xml" 
			            style="XSLT StyleSheets/Java/project.xslt"
			            schemaaware="true"
			            validation="strict" 
			            out="results/project.xml">
			  <param name="destination" expression="output"/>
			</saxon-xslt>  
			<xslt basedir="src" 
				in="in/output.xml"
				out="results/project.xml"
				extension="xml" 
				description="Parse un fichier de description de projet"
				style="XSLT StyleSheets/Java/project.xslt"
				/>
		 	

	</target>-->
	<!-- <target name="validResultsFiles">
		<xmlvalidate>
	        <fileset dir="results" includes="*.xml"/>
	        <attribute name="http://xml.org/sax/features/validation" value="true"/>
	        <attribute name="http://apache.org/xml/features/validation/schema"  value="true"/>
	        <attribute name="http://xml.org/sax/features/namespaces" value="true"/>
	     </xmlvalidate>
	</target>
	<target name="browseFile">
		<fileset dir="test" >
			
		</fileset>
	</target>
	<target name="parseDir" depends="init">
		
		<xslt basedir="src" 
			followsymlinks="true"
			extension="xml" 
			description="Parse un repertoire"
			destdir="results"
			style="src/XSLT StyleSheets/Java/file.xslt"
			/>
	</target>-->

</project>